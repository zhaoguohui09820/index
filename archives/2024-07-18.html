<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <meta property="og:site_name" content="Zhao Guohui" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://zhaoguohui09820.github.io/index/archives/2024-07-18.html/" />
    <meta property="og:title" content="欧几里得算法 —— 计算机中的最大公约数与最小公倍数" />
    <meta property="og:description"
        content="算数基本定理算数基本定理又叫唯一分解定理，它说明任意大于1的自然数都可以唯一地分解成质数的幂的乘积。对于任意两个满足条件的数a,b，我们可以通过以下公式进行分解：其中p1,p2,....，pk表..." />
    <meta property="og:image"
        content="https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9gdtMAjw&path=%7BshareItemLink%3A9gdtMAjw%7D%2F10.webp" />
    <meta property="og:category" content="💻 代码" />
    <meta property="article:author" content="bertwaver" />
    <meta property="article:publisher" content="https://ixfish.cn/" />
    <meta property="article:published_time" content="2024-04-16T22:33:00+08:00" />
    <meta property="article:published_first" content="Zhao Guohui, https://ixfish.cn/index.php/archives/254/" />
    <meta property="article:tag" content="c++,数学" />
    <meta name="description"
        content="算数基本定理算数基本定理又叫唯一分解定理，它说明任意大于1的自然数都可以唯一地分解成质数的幂的乘积。对于任意两个满足条件的数a,b，我们可以通过以下公式进行分解：其中p1,p2,....，pk表..." />
    <meta name="keywords" content="c++,数学" />
    <meta name="generator" content="Typecho 1.2.1" />
    <meta name="template" content="Cuteen" />
    <link rel="pingback" href="https://ixfish.cn/index.php/action/xmlrpc" />
    <link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://ixfish.cn/index.php/action/xmlrpc?rsd" />
    <link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://ixfish.cn/index.php/action/xmlrpc?wlw" />
    <link rel="alternate" type="application/rss+xml"
        title="欧几里得算法 —— 计算机中的最大公约数与最小公倍数 &raquo; Zhao Guohui &raquo; RSS 2.0"
        href="https://ixfish.cn/index.php/feed/archives/254/" />
    <link rel="alternate" type="application/rdf+xml"
        title="欧几里得算法 —— 计算机中的最大公约数与最小公倍数 &raquo; Zhao Guohui &raquo; RSS 1.0"
        href="https://ixfish.cn/index.php/feed/rss/archives/254/" />
    <link rel="alternate" type="application/atom+xml"
        title="欧几里得算法 —— 计算机中的最大公约数与最小公倍数 &raquo; Zhao Guohui &raquo; ATOM 1.0"
        href="https://ixfish.cn/index.php/feed/atom/archives/254/" />
    <link rel="icon" type="image/png" href="https://ixfish.cn/favicon.ico">
    <link rel="apple-touch-icon-precomposed" href="https://ixfish.cn/favicon.ico">
    <title>欧几里得算法 —— 计算机中的最大公约数与最小公倍数 - Zhao Guohui</title>
    <link rel="stylesheet" href="https://ixfish.cn/usr/themes/Cuteen/static/css/vendor.min.css">
    <link title="dark-prism" rel="stylesheet" href="https://ixfish.cn/usr/themes/Cuteen/static/css/prism.css">
    <div id='LocalizeScript'>
        <script type='text/javascript'>
            var CuteenConfig = {
                "theme_version": "5.15(20240520)",
                "index": "https:\/\/ixfish.cn\/index.php",
                "api": "https:\/\/ixfish.cn\/index.php\/cuteen\/api",
                "page_size": "5",
                "category_mid": "null",
                "search_words": "null",
                "post_cid": "254",
                "static_cdn_url": "https:\/\/ixfish.cn\/usr\/themes\/Cuteen\/static",
                "is_login": false,
                "load_article_mode": "number",
                "theme_url": "https:\/\/ixfish.cn\/usr\/themes\/Cuteen",
                "music_id": "id",
                "music_media": "media",
                "TopIndexArray": "[1]"
            };
        </script>
    </div>
</head>
<script src="https://ixfish.cn/usr/themes/Cuteen/static/js/font_3601434_nup6sgrztd.js"></script>
<style data-custom-style>
    .hero::after {
        content: '';
        width: 100%;
        height: 10%;
        position: absolute;
        bottom: 0;
        left: 0;
        background: linear-gradient(to top, #fff, transparent);
    }

    .dark .hero::after {
        background: linear-gradient(to top, #0F172A, transparent);
    }
</style>

<body>

    <nav class="navbar navbar-expand-md fixed-top px-2 px-md-5 has-img" id="navPC">
        <div class="container-fluid">
            <ul class="navbar-nav d-md-none">
                <li class="nav-item navbar-icon">
                    <svg class="icon icon-20 " aria-hidden="true" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasNavbar">
                        <use xlink:href="#menu"></use>
                    </svg>
                </li>
            </ul>

            <a class="navbar-brand m-0 me-md-3" href="https://ixfish.cn/">
                <img id="light-logo" class="navbar-logo" src="https://ixfish.cn/favicon.ico" alt="Zhao Guohui">
                <img id="dark-logo" class="navbar-logo d-none" src="" alt="Zhao Guohui">
            </a>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
                aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Zhao Guohui</h5>
                    <svg class='icon icon-20' aria-hidden='true' data-bs-dismiss="offcanvas">
                        <use xlink:href='#x'></use>
                    </svg>
                </div>
                <div class="offcanvas-body">
                    <section class="d-md-none d-block sidebar-author position-relative">
                        <div class="sidebar-banner border-0"
                            style="background-image: url('https://ixfish.cn/usr/themes/Cuteen/static/img/center-bg.svg')">
                        </div>
                        <div class="text-center">
                            <img class="sidebar-avatar" src="https://q1.qlogo.cn/g?b=qq&nk=3499096149&s=4" alt="avatar">
                        </div>
                        <h2 class="fw-bold serif-font mt-5 fs-4 text-center">bertwaver</h2>
                        <div class="sidebar-sign w-100">给时光以生命，给岁月以文明</div>
                        <div class="border-top">
                            <table class="text-center my-2 w-100 serif-font">
                                <tr class="fs-6 w-100">
                                    <th>文章</th>
                                    <th>评论</th>
                                    <th>标签</th>
                                </tr>
                                <tr>
                                    <td>16</td>
                                    <td>0</td>
                                    <td>36</td>
                                </tr>
                            </table>
                        </div>
                    </section>

                    <ul class="navbar-nav justify-content-start flex-grow-1 px-4 pt-4 px-md-0 pt-md-0 pe-md-3">
                        <li class="nav-item"><a target="_self" class="nav-link text-nowrap"
                                href="https://ixfish.cn/index.php/category/life/">👋 生活</a></li>
                        <li class="nav-item"><a target="_self" class="nav-link text-nowrap"
                                href="https://ixfish.cn/index.php/category/code/">💻 代码</a></li>
                        <li class="nav-item"><a target="_self" class="nav-link text-nowrap"
                                href="https://ixfish.cn/index.php/category/technology/">🌎 技术</a></li>
                        <li class="nav-item"><a target="_self" class="nav-link text-nowrap"
                                href="https://ixfish.cn/index.php/archives.html"> 🌈 归档</a></li>
                        <li class="nav-item"><a target="_self" class="nav-link text-nowrap"
                                href="https://ixfish.cn/index.php/chat.html">🎉 留言</a></li>
                        <li class="nav-item"><a target="_self" class="nav-link text-nowrap"
                                href="https://ixfish.cn/index.php/friends-link.html">💌 友链</a></li>
                    </ul>
                </div>

            </div>
            <ul class="navbar-nav">
                <li class="navbar-icon" data-bs-toggle="modal" data-bs-target="#searchModal">
                    <svg class="icon icon-20" aria-hidden="true">
                        <use xlink:href="#search"></use>
                    </svg>
                </li>
                <li class="navbar-icon d-none d-md-inline-flex" onclick="Cuteen.DarkModeToggle();"
                    data-bs-toggle="tooltip" data-bs-placement="bottom" title="昼夜切换">
                    <svg class="icon icon-20 darkMode" aria-hidden="true">
                        <use xlink:href="#moon"></use>
                    </svg>
                </li>
            </ul>
        </div>
    </nav>

    <div class="modal fade" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <form class="modal-content" target="_blank">
                <div class="modal-header">
                    <h5 class="modal-title" id="searchModalLabel">搜点什么</h5>
                    <svg class='icon icon-20' aria-hidden='true' data-bs-dismiss="modal">
                        <use xlink:href='#x'></use>
                    </svg>
                </div>
                <div class="modal-body">
                    <input value="" autocomplete="off" class="form-control" name="s" type="text"
                        placeholder="请输入搜索关键词……" required />
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">点击搜索</button>
                </div>
            </form>
        </div>
    </div>
    <div id="hero-box" class="hero"
        style="background-image: url('https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9gdtMAjw&path=%7BshareItemLink%3A9gdtMAjw%7D%2F16.webp');">
        <h3 class="post-title serif-font">欧几里得算法 —— 计算机中的最大公约数与最小公倍数</h3>
        <ul class="post-title-info serif-font">
            <li class="md:flex d-none d-md-flex">
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#biaoqian2"></use>
                </svg>
                <span>💻 代码</span>
            </li>
            <li>
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#huo"></use>
                </svg>
                <span>1.4k阅读</span>
            </li>
            <li>
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#shijian"></use>
                </svg>
                <span>2024年04月16日</span>
            </li>
            <li>
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#pinglun1"></use>
                </svg>
                <span>0评论</span>
            </li>
        </ul>
    </div>

    <main id="wrap" class="container">



        <div class="row justify-content-center ">
            <section class="col-lg-3">
                <div class="h-100 d-none d-lg-block mt-4">
                    <section class="sidebar-author card">
                        <div class="sidebar-banner"
                            style="background-image: url('https://ixfish.cn/usr/themes/Cuteen/static/img/center-bg.svg')">
                        </div>
                        <div class="text-center">
                            <img class="sidebar-avatar" src="https://q1.qlogo.cn/g?b=qq&nk=3499096149&s=4" alt="avatar">
                        </div>
                        <h2 class="fw-bold serif-font mt-5 fs-4 text-center">bertwaver</h2>
                        <span class="sidebar-sign">给时光以生命，给岁月以文明</span>
                        <div class="border-top">
                            <table class="text-center my-2 w-100 serif-font">
                                <tr class="fs-6 w-100">
                                    <th>文章</th>
                                    <th>评论</th>
                                    <th>标签</th>
                                </tr>
                                <tr>
                                    <td>16</td>
                                    <td>0</td>
                                    <td>36</td>
                                </tr>
                            </table>
                        </div>
                    </section>
                    <section class="sidebar-comment-box card mt-4">
                        <div class="px-4 py-2 my-2 d-flex align-items-center border-bottom">
                            <svg class="icon icon-20 me-1" aria-hidden="true">
                                <use xlink:href="#forhelp"></use>
                            </svg>
                            <span>最新回复</span>
                        </div>
                        <div>
                        </div>
                    </section>
                    <section class="sidebar-rand-box card mt-4">
                        <div class="px-4 py-2 my-2 d-flex align-items-center border-bottom">
                            <svg class="icon icon-20 me-1" aria-hidden="true">
                                <use xlink:href="#eyeshield"></use>
                            </svg>
                            <span>随便看看</span>
                        </div>
                        <div class="px-3 pb-3">
                            <div class="sidebar-rand-item">
                                <a class="sidebar-rand-img" href="https://ixfish.cn/index.php/archives/223/" style="background-image: url(https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9gdtMAjw&path=%7BshareItemLink%3A9gdtMAjw%7D%2F19.webp
);">
                                </a>
                                <div class="sidebar-rand-info">
                                    <a href="https://ixfish.cn/index.php/archives/223/">
                                        <div class="sidebar-rand-date"> 2023 年 08 月 08 日</div>
                                        <div class="sidebar-rand-title line-clamp-1">Leetcode.1010 总持续时间可被 60 整除的歌曲
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="px-3 pb-3">
                            <div class="sidebar-rand-item">
                                <a class="sidebar-rand-img" href="https://ixfish.cn/index.php/archives/238/"
                                    style="background-image: url(https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9gdtMAjw&path=%7BshareItemLink%3A9gdtMAjw%7D%2F5.webp);">
                                </a>
                                <div class="sidebar-rand-info">
                                    <a href="https://ixfish.cn/index.php/archives/238/">
                                        <div class="sidebar-rand-date"> 2023 年 08 月 12 日</div>
                                        <div class="sidebar-rand-title line-clamp-1">blinker_win - blinker点灯物联网设备pc客户端
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="px-3 pb-3">
                            <div class="sidebar-rand-item">
                                <a class="sidebar-rand-img" href="https://ixfish.cn/index.php/archives/203/" style="background-image: url(https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9gdtMAjw&path=%7BshareItemLink%3A9gdtMAjw%7D%2F19.webp
);">
                                </a>
                                <div class="sidebar-rand-info">
                                    <a href="https://ixfish.cn/index.php/archives/203/">
                                        <div class="sidebar-rand-date"> 2023 年 07 月 27 日</div>
                                        <div class="sidebar-rand-title line-clamp-1">Leetcode.2208 将数组和减半的最少操作次数</div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </section>
            <div class="mt-4 col-lg-9">
                <section class="card">
                    <div id="breadcrumbs" class="d-flex text-xs mx-4 py-4 border-bottom">
                        <div class="item d-flex items-center text-nowrap">
                            <svg class="icon me-1" aria-hidden="true">
                                <use xlink:href="#home"></use>
                            </svg>
                            <a href="https://ixfish.cn/" title="首页">首页</a>
                        </div>
                        <span class="mx-2">/</span>
                        <span class="item">
                            <a href="https://ixfish.cn/index.php/category/code/" title="💻 代码">💻 代码</a>
                        </span>
                        <span class="mx-2">/</span>
                        <span class="item">正文</span>
                    </div>
                    <div id="post-box" class="my-4 px-3 px-md-4 h-100">
                        <article class="typography" id="post">
                            <h2>算数基本定理</h2>
                            <p>算数基本定理又叫唯一分解定理，它说明任意大于1的自然数都可以唯一地分解成质数的幂的乘积。对于任意两个满足条件的数a,b，我们可以通过以下公式进行分解：<br><a
                                    data-fslightbox data-type="image" data-id="lightbox"
                                    href="https://ixfish.cn/usr/uploads/2024/04/611491035.png"><img class="lazy"
                                        data-src="https://ixfish.cn/usr/uploads/2024/04/611491035.png"
                                        alt="WX20240416-221912@2x.png"
                                        title="WX20240416-221912@2x.png"></a><br>其中p1,p2,....，pk表示质数，而a1,a2,....ak以及b1,b2,...bk表示非负整数。如果一个数拆分成的质数中没有这个质数，可以将幂视作0，比如12=(2^2)
                                (3^1) (5^0) (7^0)
                                .....（后面的7,9,11的幂皆为0）。至于为什么不存在非质数，因为假如将其中的一个非质数视作a的一个因子，那它仍然可以继续拆分成几个质数的乘积（即表示a的式子可以继续化简），经过不断化简，最终得到的式子仍然是所有质数的幂相乘所形成的式子。
                            </p>
                            <hr>
                            <h2>最大公约数的数学表示</h2>
                            <p>我们以12和6为例，将这两个数用算数基本定理表示，可以得到以下公式(忽略幂为0的质数因子):<br><a data-fslightbox data-type="image"
                                    data-id="lightbox" href="https://ixfish.cn/usr/uploads/2024/04/3344876892.png"><img
                                        class="lazy" data-src="https://ixfish.cn/usr/uploads/2024/04/3344876892.png"
                                        alt="WX20240416-223703@2x.png"
                                        title="WX20240416-223703@2x.png"></a><br>要找到最大公约数，我们就要找到一个共同的数，这个共同的数必须既能将6整除，又能将12整除，而且还必须是最大的。而6和12都可以表示为质数因子2和3的幂的乘积的形式，要找到这个最大的数，我们只需要找到其中
                                <code>每个因子的最小值的乘积</code>
                                即可。寻找最小值是为了保证找到的公约数都能将6和12整除。而寻找每个因子是为了保证这个公约数是最大的（即最大公约数），因为一旦在寻找的过程中遗漏了某个因子，那么就相当于找到的是
                                <code>用最大公约数除以了这个因子</code>
                                所得到的数，所以导致找到的这个公约数不是最大的。<br>根据我们的方法，对于因子2，我们应该寻找的是2的1次方，而对于因子3，我们应该寻找的是3的一次方。将它们相乘，我们得到6和12的最大公约数为2x3=6。<br>
                                综上所述，对于a,b两个数的最大公约数我们可以这样获得：
                                <code>将a,b两个数用算数基本定理拆解后，对于相同底数的质数因子，取幂相对较小的那个数，然后将它们相乘，得到的即为a,b的最大公约数</code>
                            </p>
                            <hr>
                            <h2>最小公倍数的数学表示</h2>
                            <p>我们仍然以6和12为例，要找到其最小公倍数，即要找到一个既可以被6整除，又可以被12整除的数，并且这个数还要是最小的。根据我们寻找最大公约数的方法，这次我们就应该寻找对于6和12的相同底数的两个因子中较大的那个。这样我们就可以保证了这个数都可以被两个数整除（因为这个数是由两个数的最大因子相乘而得来的，无论用哪个数整除，最终都会将共有的因子除掉，最终得到一个整数）。而且它一定是两个数的最小的公倍数，因为这个数不可以再拆分，如果继续拆分的话，相当于除掉了一个或多个质数，这会导致其无法成为6或者12的一个倍数。（想象一下，我们如果将12和6的最小公倍数12再除以一个2，得到了6，它并不是12的倍数。因为将12拆解后为2的二次方乘以3的一次方，而6拆解后为2的一次方乘以3的一次方，6比12少了一个2的一次方，因此无法成为12的倍数。）<br>综上所述，对于a,b两个数的最小公倍数我们可以这样获得：综上所述，对于a,b两个数的最大公约数我们可以这样获得：
                                <code>将a,b两个数用算数基本定理拆解后，对于相同底数的质数因子，取幂相对较大的那个数，然后将它们相乘，得到的即为a,b的最小公倍数</code>
                            </p>
                            <hr>
                            <h2>最大公约数和最小公倍数的乘积</h2>
                            <p>我们将a,b的最大公约数视作GCD(a,b)，将a,b的最小公倍数视作LCM（a,b）。则可以得到GCD(a,b) x LCM(a,b) = a x
                                b。<br>推论如下：假设存在 6 和 12，我们将其用算数基本定理进行拆解<br>6= 2^1(q) x 3^1(t)<br>12= 2^2(s) x 3^1(d)<br>6
                                x 12= 72 = (q) x (t) x (s) x (d)</p>
                            <p>则GCD(6,12)=2^1(q) x 3^1(d)<br>LCM(6,12)=2^2(s) x 3^1(t)<br>则GCD(6,12) x LCM(6,12)= (q) x
                                (t) x (s) x (d) =72=6 x 12</p>
                            <p>因此，对于a,b而言，GCD(a,b) x LCM(a,b) = a x b。</p>
                            <hr>
                            <h2>欧几里得算法</h2>
                            <p>该算法基于以下事实：两个正整数的最大公约数（GCD）不变，即使其中一个数被它们的差替换。<br>假设存在两个非负正整数a,b且存在a&gt;b而言。GCD(a,b)=GCD(b,a-b)。<br>证明过程如下：<br>如果d是a和b的最大公约数，则a=m
                                x d，而b=n x d。（如果你不理解为什么可以这样表示，你需要重新理解前方所提到的知识）<br>a-b=（m-n）x
                                d。<br>因此我们可以通过设计算法不断使其相减，最终使得a,b变量的其中一个值变为0，而另外一个值即为我们们要找到的最大公约数。<br>根据这个原理，我们可以设计两个或者两个以上的数的求最大公约数的算法：
                            </p>
                            <pre><code class="lang-cpp">// 最大公约数算法
int gcd(int a, int b)
{
    int tmin = min(a, b);
    int tmax = max(a, b);
    if (tmin != 0)
    {
        tmax = tmax - tmin;
        return gcd(tmin, tmax);
    }
    return tmax;
}
// 最大公约数算法扩展
int tgcd(int a, int b, int c)
{
    return gcd(gcd(a, b), c);
}</code></pre>
                            <p>由于我们已经在上方得到了最大公约数和最小公倍数的乘积与两个数乘积之间的关系，因此我们可以这样设计求两个数最小公倍数的算法：</p>
                            <pre><code class="lang-cpp">int lcm(int a,int b)
{
    return (a*b/gcd(a,b));
}</code></pre>
                            <hr>
                            <h2>c++17计算最小公倍数和最大公约数</h2>
                            <p>如果你的编译器支持c++17或更高标准，你可以分别使用lcm()函数和gcd()函数来计算最小公倍数和最大公约数。它包含在头文件numeric下。<br>详解如下:<br><a
                                    href="https://zh.cppreference.com/w/cpp/numeric/gcd" target="_blank"
                                    rel="nofollow">https://zh.cppreference.com/w/cpp/numeric/gcd</a> <br><a
                                    href="https://zh.cppreference.com/w/cpp/numeric/lcm" target="_blank"
                                    rel="nofollow">https://zh.cppreference.com/w/cpp/numeric/lcm</a><br>演示代码：</p>
                            <pre><code class="lang-cpp">#include &lt;numeric&gt;
using namespace std;

int main()
{
    int a=10,b=20;
    int j=lcm(10,20);
    int k=gcd(10,20);
    return 0;
}</code></pre>
                            <p>结果为j=20 k=10。</p>
                            <hr>
                            <h2>求最大公约数的改良算法</h2>
                            <p>假如有下面一个问题：<br><a data-fslightbox data-type="image" data-id="lightbox"
                                    href="https://ixfish.cn/usr/uploads/2024/04/1653102677.png"><img class="lazy"
                                        data-src="https://ixfish.cn/usr/uploads/2024/04/1653102677.png"
                                        alt="iShot_2024-04-18_05.16.29.png"
                                        title="iShot_2024-04-18_05.16.29.png"></a><br>我们将公式S化简可以得到S=gcd(a,b,c)。因此，我们可以设计一个gcd算法进行暴力求解。代码如下：
                            </p>
                            <pre><code class="lang-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;iterator&gt;
#include &lt;algorithm&gt;
using namespace std;
// 最大公约数算法
int gcd(int a, int b)
{
    int tmin = min(a, b);
    int tmax = max(a, b);
    if (tmin != 0)
    {
        tmax = tmax - tmin;
        return gcd(tmin, tmax);
    }
    return tmax;
}
// 最大公约数算法扩展
int tgcd(int a, int b, int c)
{
    return gcd(gcd(a, b), c);
}

int main()
{
    // 获取并加入数组
    int n;
    cin &gt;&gt; n;
    vector&lt;int&gt; diamonds(n, -1);
    for (int cptime = 1; cptime &lt;= n; cptime++)
    {
        cin &gt;&gt; diamonds[cptime - 1];
    }
    // 组合数学
    vector&lt;vector&lt;int&gt;&gt; combinations;
    for (int i = 1; i &lt;= diamonds.size() - 2; i++)
    {
        for (int j = i + 1; j &lt;= diamonds.size() - 1; j++)
        {
            for (int k = j + 1; k &lt;= diamonds.size(); k++)
            {
                combinations.push_back({diamonds[i - 1], diamonds[j - 1], diamonds[k - 1]});
            }
        }
    }
    // 计算s
    vector&lt;int&gt; s;
    for (int cptime = 1; cptime &lt;= combinations.size(); cptime++)
    {
        int a = combinations[cptime - 1][0];
        int b = combinations[cptime - 1][1];
        int c = combinations[cptime - 1][2];
        s.push_back(tgcd(a, b, c));
    }
    // 寻找最大元素
    vector&lt;int&gt;::iterator it;
    it = max_element(s.begin(), s.end());
    int dis = distance(s.begin(), it);
    // 输出
    vector&lt;int&gt; sum = {combinations[dis][0], combinations[dis][1], combinations[dis][2]};
    sort(sum.begin(), sum.end());
    cout &lt;&lt; sum[0] &lt;&lt; &quot; &quot; &lt;&lt; sum[1] &lt;&lt; &quot; &quot; &lt;&lt; sum[2];
    return 0;
}</code></pre>
                            <p>但这存在一个问题。由于我们需要获取到数组中所有可能存在的以三个为一组的组合，因此算法的时间复杂度是O(n^3)。这对于大数据是极其致命的，所以我们需要设计一种更高效的算法。这种算法需要去除获取所有可能的组合的步骤，这是一个三层嵌套循环，正是这个循环让算法的复杂度到了O(n^3)级别。<br>一种比较好的解决方法如下：我们将每一个数据求出其所有可以被整除的数，并将这个数出现的次数统计下来，哪个数出现的次数等于3，就代表这个数字可以同时整除数组中的三个的数。所有出现次数等于3的数对应的就是题目中的S，而最大的那个数就是S的最大值。有时候一个数字出现的次数也可以大于3，这代表这个数可以将数组中的多个数整除，这时候我们也只需要找出那个最小的组合即可（如题所见，它需要我们找到字典中的最小的那个组合）。这个数字出现的次数可能是4次，5次甚至是6次，但是对于暴力搜索一开始遍历并找出所有可能的组合而言，这种算法的时间复杂度开销要少得很多。<br>另外值得一提的是，我们在遍历一个数所有可能整除的数字时，我们只需要从1遍历到其二次方根即可，因为对于一个可以被b和c整除的数a而言，总有a=b(小)
                                x
                                c(大)。我们只要遍历出那个比较小的值，另一个比较大的值只需要用a除以这个比较小的值就可以得到了。b和c的分界线是a的平方根，原因在于假设b等于a的平方根时，c也等于a的平方根，当b和c之中的任意一个数再增大时，这个数会变成较大的那个数，所对应的另一个数必定会变成较小的那个数，而这两个数一定是我们在遍历1到a的平方根的过程中已经遍历过的。<br>综上所述，解决本问题的完整代码如下，本算法的时间复杂度在对数级别：
                            </p>
                            <pre><code class="lang-cpp">#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;map&gt;
#include &lt;iterator&gt;
#include &lt;math.h&gt;
using namespace std;

int main()
{
    int n;
    cin &gt;&gt; n;
    vector&lt;int&gt; nums(n, 0);
    for (int cptime = 1; cptime &lt;= n; cptime++)
    {

        cin &gt;&gt; nums[cptime - 1];
    }
    sort(nums.begin(), nums.end());

    // 存储公约数
    map&lt;int,vector&lt;int&gt;&gt; m;
    // 正式遍历
    for (int cptime = 1; cptime &lt;= nums.size(); cptime++)
    {
        int cur_maxnumber = nums[cptime - 1];
        //平方根放缩优化
        for (int ncptime = 1; ncptime &lt;= sqrt(cur_maxnumber); ncptime++)
        {
            if (nums[cptime - 1] % ncptime == 0)
            {
                m[ncptime].push_back(nums[cptime-1]);
                //求较大因数并加入map
                int bignumber=nums[cptime-1]/ncptime;
                //防止重复项
                if(bignumber!=ncptime)
                {
                    m[bignumber].push_back(nums[cptime-1]);
                }
            }
        }
    }
    // 寻找最大公约数及查找算法
    int sumindex = -1;
    vector&lt;int&gt; sums(3,-1);
    map&lt;int, vector&lt;int&gt;&gt;::iterator it;
    for (it=m.begin();it!=m.end();it++)
    {
        if(it-&gt;second.size()&gt;=3)
        {
            if(it-&gt;first&gt;=sumindex)
            {
                sumindex=it-&gt;first;
                sums[0]=it-&gt;second[0];
                sums[1]=it-&gt;second[1];
                sums[2]=it-&gt;second[2];
            }
        }
    }
    // 输出答案
    sort(sums.begin(),sums.end());
    cout&lt;&lt;sums[0]&lt;&lt;&quot; &quot;&lt;&lt;sums[1]&lt;&lt;&quot; &quot;&lt;&lt;sums[2];
    return 0;
}</code></pre>
                        </article>

                        <div class="d-flex pt-4 mt-5 align-items-center border-top">
                            <svg class="icon icon-20 me-1" aria-hidden="true">
                                <use xlink:href="#biaoqian1"></use>
                            </svg>
                            <div class="d-flex flex-wrap align-items-center text-xs space-x-2 space-y-2" id="tag">
                                <a href="https://ixfish.cn/index.php/tag/c/">c++</a><a
                                    href="https://ixfish.cn/index.php/tag/%E6%95%B0%E5%AD%A6/">数学</a>
                            </div>
                        </div>

                        <div class="copyright text-xs">
                            <div class="d-flex align-items-center">
                                <svg class="icon me-1" aria-hidden="true">
                                    <use xlink:href="#profile"></use>
                                </svg>
                                <div class="copyright-text">版权属于：bertwaver</div>
                            </div>
                            <div class="d-flex align-items-center">
                                <svg class="icon me-1" aria-hidden="true">
                                    <use xlink:href="#loaction"></use>
                                </svg>
                                <div class="copyright-text">本文链接：https://ixfish.cn/index.php/archives/254/</div>
                            </div>
                            <div class="d-flex align-items-center">
                                <svg class="icon me-1" aria-hidden="true">
                                    <use xlink:href="#diamond"></use>
                                </svg>
                                <div class="copyright-text">转载请注明本文链接。</div>
                            </div>
                        </div>

                        <div class="text-center d-flex justify-content-center my-2">
                            <div class='like-button me-2 my-3' onclick="Cuteen.PostLike()">
                                <span class='like-icon'>
                                    <div class='heart-animation-1'></div>
                                    <div class='heart-animation-2'></div>
                                </span>赞 <span id="likeNumber" class="serif-font ms-1">5</span>
                            </div>
                            <div class="reward-button ms-2 my-3" data-bs-toggle="modal" data-bs-target="#rewardModal">
                                <svg class="icon icon-20 me-1" aria-hidden="true">
                                    <use xlink:href="#jinbi"></use>
                                </svg>
                                <span>打赏</span>
                            </div>
                        </div>
                        <div class="row m-0">
                            <div class="col-6 post-link-box rounded-start">
                                <a class="prev-card-img serif-font" href="https://ixfish.cn/index.php/archives/247/"
                                    style="background-image: url(https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9gdtMAjw&path=%7BshareItemLink%3A9gdtMAjw%7D%2F15.webp
);">
                                    <span class="line-clamp-2 np-text">二叉搜索树</span>
                                    <div class="text-xs post-link-text">« 上一篇</div>
                                </a>
                            </div>

                            <div class="col-6 post-link-box rounded-end">
                                <a class="next-card-img serif-font" href="https://ixfish.cn/index.php/archives/258/"
                                    style="background-image: url(https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9gdtMAjw&path=%7BshareItemLink%3A9gdtMAjw%7D%2F22.webp
);">
                                    <div class="line-clamp-2 np-text">打家劫舍I/II/III</div>
                                    <div class="text-xs post-link-text">下一篇 »</div>
                                </a>
                            </div>
                        </div>
                    </div>
                </section>

            </div>
        </div>

        <div class="modal fade" id="rewardModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title serif-font fw-bold" id="exampleModalLabel">赞赏支持,更有情怀</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <nav>
                            <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                <button class="nav-link active d-inline-flex" id="nav-alipay-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-alipay" type="button" role="tab" aria-controls="nav-alipay"
                                    aria-selected="true">
                                    <svg class="icon icon-30" aria-hidden="true">
                                        <use xlink:href="#zhifubao"></use>
                                    </svg>
                                    支付宝
                                </button>
                                <button class="nav-link d-inline-flex" id="nav-wechat-tab" data-bs-toggle="tab"
                                    data-bs-target="#nav-wechat" type="button" role="tab" aria-controls="nav-wechat"
                                    aria-selected="false">
                                    <svg class="icon icon-30 me-1" aria-hidden="true">
                                        <use xlink:href="#weixinzhifu"></use>
                                    </svg>
                                    微信
                                </button>
                            </div>
                        </nav>
                        <div class="tab-content text-center mt-2" id="reward-tab-content">
                            <div class="tab-pane fade show active" id="nav-alipay" role="tabpanel"
                                aria-labelledby="nav-alipay-tab" tabindex="0">
                                <img src="https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9f2HalHw&path=%7BshareItemLink%3A9f2HalHw%7D%2F"
                                    alt="alipay">
                            </div>
                            <div class="tab-pane fade" id="nav-wechat" role="tabpanel" aria-labelledby="nav-wechat-tab"
                                tabindex="0"><img
                                    src="https://yun.ixfish.cn/?explorer/share/fileOut&shareID=9f2HxMtA&path=%7BshareItemLink%3A9f2HxMtA%7D%2F">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer id="footer" class="bg-white p-4 text-center mt-4">
        <p class="small">
            &copy; 2024 <a href="https://ixfish.cn/">Zhao Guohui</a>
        </p>
        <p class="small">
            <svg class='icon icon-20' aria-hidden='true'>
                <use xlink:href='#ICP'></use>
            </svg>
            <a href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank"> 鲁ICP备19060431号</a>
        </p>
        <!-- 此处版权可以修改或删除，建议保留，谢谢 -->
        <p class="small"> Powered by <a href="http://typecho.org" target="_blank">Typecho</a> ※ Theme is <a
                href="https://blog.zwying.com" target="_blank">Cuteen</a></p>
    </footer>

    <div id="tool" class="d-grid gap-1">
        <div id="tocbot-btn" class="right-btn-icon p-2 position-relative" data-bs-toggle="offcanvas"
            data-bs-target="#tocbot-box" aria-controls="tocbot-box">
            <svg class="icon icon-20" aria-hidden="true">
                <use xlink:href="#list"></use>
            </svg>
        </div>
        <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="tocbot-box"
            aria-labelledby="tocbot-box-lable">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title serif-font" id="tocbot-box-lable">文章目录</h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body" id="toc-box">

            </div>
        </div>
        <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/progress-catalog.js"></script>
        <script>
            if (document.getElementById('tocbot-btn')) {
                document.addEventListener('DOMContentLoaded', () => {
                    TOC({
                        contentEl: "post",
                        catalogEl: "toc-box"
                    })
                });
                document.addEventListener('pjax:complete', () => {
                    if (document.getElementById('tocbot-btn')) {
                        TOC({
                            contentEl: "post",
                            catalogEl: "toc-box"
                        })
                    }
                })
            }
        </script>
        <div onclick="Cuteen.DarkModeToggle();" class="right-btn-icon p-2 d-block d-sm-none">
            <svg class="icon icon-20 darkMode" aria-hidden="true">
                <use xlink:href="#moon"></use>
            </svg>
        </div>
        <div class="right-btn-icon p-2" onclick="window.scroll({top: 0, left: 0, behavior: 'smooth'});">
            <svg class="icon icon-20" aria-hidden="true">
                <use xlink:href="#arrow-up-circle"></use>
            </svg>
        </div>
    </div>
    <!--Headroom-->
    <!--MathJax-->
    <script async id="MathJax-script" src="https://ixfish.cn/usr/themes/Cuteen/static/js/mathjax/tex-chtml.js"></script>
    <script>
        MathJax = {
            options: {
                renderActions: {
                    addMenu: [0, "", ""]
                }
            },
            tex: {
                inlineMath: [
                    ["$", "$"],
                    ["\\(", "\\)"]
                ]
            },
            svg: {
                fontCache: "global"
            }
        }
    </script>

    <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/pjax.min.js"></script>
    <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/topbar.min.js"></script>
    <script>
        const pjax = new Pjax({
            selectors: [
                'main', 'title', '#LocalizeScript', '#tool', '#hero-box'
            ],
        });
        document.addEventListener('pjax:send', () => {
            NProgress.set(0.6);
        });
        document.addEventListener('pjax:complete', () => {
            NProgress.done();
            if (document.getElementById('echarts_pie')) EchartsInit();
            refreshFsLightbox();
            MathJax.typeset();
            if (typeof Prism !== 'undefined') Prism.highlightAll(true, null);
            Cuteen.PjaxLoad()
        });
    </script>
    <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/message.js"></script>
    <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/OwO.js"></script>
    <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/lazyload.min.js"></script>
    <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/fslightbox.js"></script>
    <script src="https://ixfish.cn/usr/themes/Cuteen/include/prism.js"></script>
    <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/main.js"></script>
    <script src="https://ixfish.cn/usr/themes/Cuteen/static/js/bootstrap.bundle.min.js"></script>
    <!--底部波浪开始-->
    <div class="wiiuii_layout">
        <svg class="editorial" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            viewBox="0 24 150 28" preserveAspectRatio="none">
            <defs>
                <path id="gentle-wave" d="M-160 44c30 0 
    58-18 88-18s
    58 18 88 18 
    58-18 88-18 
    58 18 88 18
    v44h-352z" />
            </defs>
            <g class="parallax">
                <use xlink:href="#gentle-wave" x="50" y="0" fill="#4579e2" />
                <use xlink:href="#gentle-wave" x="50" y="3" fill="#3461c1" />
                <use xlink:href="#gentle-wave" x="50" y="6" fill="#2d55aa" />
            </g>
        </svg>
    </div>
    <style type='text/css'>
        .parallax>use {
            animation: move-forever 12s linear infinite;
        }

        .parallax>use:nth-child(1) {
            animation-delay: -2s;
        }

        .parallax>use:nth-child(2) {
            animation-delay: -2s;
            animation-duration: 5s;
        }

        .parallax>use:nth-child(3) {
            animation-delay: -4s;
            animation-duration: 3s;
        }

        @keyframes move-forever {
            0% {
                transform: translate(-90px, 0%);
            }

            100% {
                transform: translate(85px, 0%);
            }
        }

        .wiiuii_layout {
            width: 100%;
            height: 40px;
            position: relative;
            overflow: hidden;
            z-index: 1;
            background: var(--footer-bg);
        }

        .editorial {
            display: block;
            width: 100%;
            height: 40px;
            margin: 0;
        }
    </style>
</body>

</html>